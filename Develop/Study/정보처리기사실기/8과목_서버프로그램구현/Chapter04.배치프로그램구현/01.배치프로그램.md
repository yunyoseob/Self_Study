## 정보처리기사 실기

## Chapter4. 배치 프로그램 구현

## 01. 배치 프로그램

<hr>

### 배치 프로그램

배치 프로그램은 사용자와의 상호작용 없이 일련의 작업들을 작업 단위로 묶어 정기적으로 반복 수행하거나 정해진 규칙에 따라 **일괄 처리**하는 방법

### 배치 프로그램 유형

|유형|설명|
|--|--|
|이벤트 배치|사전에 정의해 둔 조건 충족 시 자동으로 실행|
|온디멘드 배치|사용자의 명시적 요구가 있을 때마다 실행|
|정기 배치|정해진 시점(주로 야간)에 정기적으로 실행|

**✔ 배치 스케줄러**

배치 스케줄러는 일괄 처리를 위해 주기적으로 발생하거나 반복적으로 발생하는 작업을 지원하는 도구

**✔ 배치 스케줄러 종류**

|유형|설명|
|:--:|:--:|
|스프링 배치(Spring Batch)|스프링 프레임워크의 DI, AOP, 서비스 추상화 등 스프링 프레임워크의 3대 요소를 모두 사용할 수 있는 대용량 처리를 제공하는 스케줄러 배치 애플리케이션|
|쿼츠 스케줄러(Quartz Scheduler)|스프링 프레임워크에 플러그인되어 수행하는 작업(Job)과 실행 스케줄을 정의하는 트리거를 분리하여 유연성을 제공하는 오픈 소스 기반 스케줄러|

**✔ 리눅스/유닉스 크론 표현식**

|순서|필드 이름|허용 값|
|:--:|:--:|:--:|
|1|분(Minutes)|0~59, 특수문자|
|2|시간(Hours)|0~23, 특수문자|
|3|일(Day)|1~31, 특수문자|
|4|월(Months)|1~12, JAN~DEC, 특수문자|
|5|요일(Week)|1~7, SUN-SAT, 특수문자|
|6|연도(Year)(생략가능)|1970-2099, 특수문자|

- 0,7: 일요일, 
- 1-6 : 월요일~토요일

**✔ 쿼츠 크론 표현식**

|순서|필드 이름|허용 값|
|:--:|:--:|:--:|
|1|초(Seconds)|0~59, 특수문자|
|2|분(Minutes)|0~59, 특수문자|
|3|시간(Hours)|0~23, 특수문자|
|4|일(Day)|1~31, 특수문자|
|5|월(Months)|1~12, JAN~DEC, 특수문자|
|6|요일(Week)|1~7, SUN~SAT, 특수문자|
|7|연도(Year)(생략가능)|1970~2099, 특수문자|

- 실제 구현 중심의 배치 프로그램을 만들 때 스프링 배치를 많이 사용함.

- 스프링 배치나 쿼츠 표현식 사용시, 쿼츠 크론 표현식을 많이 사용함.

**✔ Cron 표현식 특수문자 의미**

|기호|설명|
|:--:|:--:|
|*|모든 수|
|?|해당 항목을 미사용|
|-|기간 설정|
|,|특정 기간 설정|
|/|시작시간과 반복간격 설정|
|L|마지막 기간에 동작|
|W|가장 가까운 평일에 동작|
|#|몇 번째 주, 요일 설정|